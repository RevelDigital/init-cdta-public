if(!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"http://www.youtube.com"};YT.loading||(YT.loading=1,function(){var t=[];YT.ready=function(e){YT.loaded?e():t.push(e)},window.onYTReady=function(){YT.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(t){}},YT.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(YTConfig[e]=t[e])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflOozvUR/www-widgetapi.js",e.async=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s)}()),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Pusher=e():t.Pusher=e()}(this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var n=s(1);t.exports=n.default},function(t,e,s){"use strict";var n=s(2),i=s(9),o=s(24),r=s(39),a=s(40),l=s(41),c=s(12),u=s(5),h=s(63),d=s(8),p=s(43),_=s(14),f=function(){function t(e,s){var c=this;if(function(t){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}(),!(s=s||{}).cluster&&!s.wsHost&&!s.httpHost){var f=_.default.buildLogSuffix("javascriptQuickStart");d.default.warn("You should always specify a cluster when connecting. "+f)}this.key=e,this.config=i.extend(h.getGlobalConfig(),s.cluster?h.getClusterConfig(s.cluster):{},s),this.channels=p.default.createChannels(),this.global_emitter=new o.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new r.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:u.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n.default.TimelineTransport.name})),this.connection=p.default.createConnectionManager(this.key,i.extend({getStrategy:function(t){var e=i.extend({},c.config,t);return l.build(n.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var s=c.channel(t.channel);s&&s.handleEvent(t.event,t.data)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){d.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,s=t.instances.length;e<s;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return i.keys(i.filterObject({ws:n.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,s){return this.global_emitter.bind(t,e,s),this},t.prototype.unbind=function(t,e,s){return this.global_emitter.unbind(t,e,s),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,s){return this.connection.send_event(t,e,s)},t.prototype.isEncrypted=function(){return"https:"===n.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=n.default,t.ScriptReceivers=n.default.ScriptReceivers,t.DependenciesReceivers=n.default.DependenciesReceivers,t.auth_callbacks=n.default.auth_callbacks,t}();e.__esModule=!0,e.default=f,n.default.setup(f)},function(t,e,s){"use strict";var n=s(3),i=s(7),o=s(15),r=s(16),a=s(17),l=s(4),c=s(18),u=s(19),h=s(26),d=s(27),p=s(28),_=s(29),f={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:n.DependenciesReceivers,getDefaultStrategy:d.default,Transports:u.default,transportConnectionInitializer:p.default,HTTPFactory:_.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var s=function(){e.onDocumentBody(t.ready)};window.JSON?s():n.Dependencies.load("json2",{},s)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:i.default,jsonp:o.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a.default(t,e)},createScriptRequest:function(t){return new r.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return h.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",s=this.getProtocol();return Boolean(window.XDomainRequest)&&s===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=f},function(t,e,s){"use strict";var n=s(4),i=s(5),o=s(6);e.DependenciesReceivers=new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new o.default({cdn_http:i.default.cdn_http,cdn_https:i.default.cdn_https,version:i.default.VERSION,suffix:i.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var s=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,s=this.prefix+e,n=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:s,name:n,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=s,e.ScriptReceivers=new s("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:".min"}},function(t,e,s){"use strict";var n=s(4),i=s(2),o=function(){function t(t){this.options=t,this.receivers=t.receivers||n.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,s){var n=this;if(n.loading[t]&&n.loading[t].length>0)n.loading[t].push(s);else{n.loading[t]=[s];var o=i.default.createScriptRequest(n.getPath(t,e)),r=n.receivers.create(function(e){if(n.receivers.remove(r),n.loading[t]){var s=n.loading[t];delete n.loading[t];for(var i=function(t){t||o.cleanup()},a=0;a<s.length;a++)s[a](e,i)}});o.send(r)}},t.prototype.getRoot=function(t){var e=i.default.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=s(8),i=s(2),o=s(14);e.__esModule=!0,e.default=function(t,e,s){var r;for(var a in(r=i.default.createXHR()).open("POST",this.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(a,this.authOptions.headers[a]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t,e=!1;try{t=JSON.parse(r.responseText),e=!0}catch(t){s(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+r.responseText)}e&&s(!1,t)}else{var i=o.default.buildLogSuffix("authenticationEndpoint");n.default.warn("Couldn't retrieve authentication info. "+r.status+"Clients must be authenticated to join private or presence channels. "+i),s(!0,r.status)}},r.send(this.composeQuery(e)),r}},function(t,e,s){"use strict";var n=s(9),i=s(1),o={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];i.default.log&&i.default.log(n.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var s=n.stringify.apply(this,arguments);i.default.log?i.default.log(s):window.console&&(window.console.warn?window.console.warn(s):window.console.log&&window.console.log(s))}};e.__esModule=!0,e.default=o},function(t,e,s){"use strict";function n(t,e){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(t[s],s,t)}function i(t,e){for(var s=[],n=0;n<t.length;n++)s.push(e(t[n],n,t,s));return s}function o(t,e){var s={};return n(t,function(t,n){s[n]=e(t)}),s}function r(t,e){var s={};return n(t,function(n,i){(e&&e(n,i,t,s)||Boolean(n))&&(s[i]=n)}),s}function a(t){var e=[];return n(t,function(t,s){e.push([s,t])}),e}function l(t){return o(t,function(t){return"object"==typeof t&&(t=u(t)),encodeURIComponent(h.default(t.toString()))})}function c(t){var e=[],s=[];return function t(n,i){var o,r,a;switch(typeof n){case"object":if(!n)return null;for(o=0;o<e.length;o+=1)if(e[o]===n)return{$ref:s[o]};if(e.push(n),s.push(i),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],o=0;o<n.length;o+=1)a[o]=t(n[o],i+"["+o+"]");else for(r in a={},n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=t(n[r],i+"["+JSON.stringify(r)+"]"));return a;case"number":case"string":case"boolean":return n}}(t,"$")}function u(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(c(t))}}var h=s(10),d=s(11);e.extend=function t(e){for(var s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];for(var i=0;i<s.length;i++){var o=s[i];for(var r in o)e[r]=o[r]&&o[r].constructor&&o[r].constructor===Object?t(e[r]||{},o[r]):o[r]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)t.push("string"==typeof arguments[e]?arguments[e]:u(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var s=Array.prototype.indexOf;if(null===t)return-1;if(s&&t.indexOf===s)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.objectApply=n,e.keys=function(t){var e=[];return n(t,function(t,s){e.push(s)}),e},e.values=function(t){var e=[];return n(t,function(t){e.push(t)}),e},e.apply=function(t,e,s){for(var n=0;n<t.length;n++)e.call(s||window,t[n],n,t)},e.map=i,e.mapObject=o,e.filter=function(t,e){e=e||function(t){return!!t};for(var s=[],n=0;n<t.length;n++)e(t[n],n,t,s)&&s.push(t[n]);return s},e.filterObject=r,e.flatten=a,e.any=function(t,e){for(var s=0;s<t.length;s++)if(e(t[s],s,t))return!0;return!1},e.all=function(t,e){for(var s=0;s<t.length;s++)if(!e(t[s],s,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return i(a(l(r(t,function(t){return void 0!==t}))),d.default.method("join","=")).join("&")},e.decycleObject=c,e.safeJSONStringify=u},function(t,e,s){"use strict";e.__esModule=!0,e.default=function(t){return h(c(t))};for(var n=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},r=0,a=i.length;r<a;r++)o[i.charAt(r)]=r;var l=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?n(192|e>>>6)+n(128|63&e):n(224|e>>>12&15)+n(128|e>>>6&63)+n(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,l)},u=function(t){var e=[0,2,1][t.length%3],s=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[i.charAt(s>>>18),i.charAt(s>>>12&63),e>=2?"=":i.charAt(s>>>6&63),e>=1?"=":i.charAt(63&s)].join("")},h=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,u)}},function(t,e,s){"use strict";var n=s(12),i={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new n.OneOffTimer(0,t)},method:function(t){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}};e.__esModule=!0,e.default=i},function(t,e,s){"use strict";function n(t){window.clearTimeout(t)}function i(t){window.clearInterval(t)}var o=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},r=s(13),a=function(t){function e(e,s){t.call(this,setTimeout,n,e,function(t){return s(),null})}return o(e,t),e}(r.default);e.OneOffTimer=a;var l=function(t){function e(e,s){t.call(this,setInterval,i,e,function(t){return s(),t})}return o(e,t),e}(r.default);e.PeriodicTimer=l},function(t,e){"use strict";var s=function(){function t(t,e,s,n){var i=this;this.clear=e,this.timer=t(function(){i.timer&&(i.timer=n(i.timer))},s)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";var s={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,n=s.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=s.baseUrl+n.path),e?"See: "+e:""):""}}},function(t,e,s){"use strict";var n=s(8);e.__esModule=!0,e.default=function(t,e,s){void 0!==this.authOptions.headers&&n.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var i=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),r=o.createElement("script");t.auth_callbacks[i]=function(t){s(!1,t)},r.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+i+"']")+"&"+this.composeQuery(e);var a=o.getElementsByTagName("head")[0]||o.documentElement;a.insertBefore(r,a.firstChild)}},function(t,e){"use strict";var s=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,s="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(s)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+s+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(e.script,n.firstChild),e.errorScript&&n.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=s},function(t,e,s){"use strict";var n=s(9),i=s(2),o=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=n.buildQueryString(this.data);this.request=i.default.createScriptRequest(this.url+"/"+t.number+"?"+e),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=s(2),i=s(4),o={name:"jsonp",getAgent:function(t,e){return function(s,o){var r=n.default.createJSONPRequest("http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,s),a=n.default.ScriptReceivers.create(function(e,s){i.ScriptReceivers.remove(a),r.cleanup(),s&&s.host&&(t.host=s.host),o&&o(e,s)});r.send(a)}}};e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=s(20),i=s(22),o=s(21),r=s(2),a=s(3),l=s(9),c=new i.default({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),u={isSupported:function(t){return r.default.isXDRSupported(t.encrypted)}},h=new i.default(l.extend({},n.streamingConfiguration,u)),d=new i.default(l.extend({},n.pollingConfiguration,u));n.default.xdr_streaming=h,n.default.xdr_polling=d,n.default.sockjs=c,e.__esModule=!0,e.default=n.default},function(t,e,s){"use strict";var n=s(21),i=s(22),o=s(9),r=s(2),a=new i.default({urls:n.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(r.default.getWebSocketAPI())},isSupported:function(){return Boolean(r.default.getWebSocketAPI())},getSocket:function(t){return r.default.createWebSocket(t)}}),l={urls:n.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=o.extend({getSocket:function(t){return r.default.HTTPFactory.createStreamingSocket(t)}},l),e.pollingConfiguration=o.extend({getSocket:function(t){return r.default.HTTPFactory.createPollingSocket(t)}},l);var c={isSupported:function(){return r.default.isXHRSupported()}},u={ws:a,xhr_streaming:new i.default(o.extend({},e.streamingConfiguration,c)),xhr_polling:new i.default(o.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=u},function(t,e,s){"use strict";function n(t,e,s){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+s}function i(t,e){return"/app/"+t+"?protocol="+o.default.PROTOCOL+"&client=js&version="+o.default.VERSION+(e?"&"+e:"")}var o=s(5);e.ws={getInitial:function(t,e){return n("ws",e,(e.httpPath||"")+i(t,"flash=false"))}},e.http={getInitial:function(t,e){return n("http",e,(e.httpPath||"/pusher")+i(t))}},e.sockjs={getInitial:function(t,e){return n("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return i(t)}}},function(t,e,s){"use strict";var n=s(23),i=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,s,i){return new n.default(this.hooks,t,e,s,i)},t}();e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(11),o=s(9),r=s(24),a=s(8),l=s(2),c=function(t){function e(e,s,n,i,o){t.call(this),this.initialize=l.default.transportConnectionInitializer,this.hooks=e,this.name=s,this.priority=n,this.key=i,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return n(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return i.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(i.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return o.extend({cid:this.id},t)},e}(r.default);e.__esModule=!0,e.default=c},function(t,e,s){"use strict";var n=s(9),i=s(25),o=function(){function t(t){this.callbacks=new i.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,s){return this.callbacks.add(t,e,s),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,s){return this.callbacks.remove(t,e,s),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=n.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e){var s;for(s=0;s<this.global_callbacks.length;s++)this.global_callbacks[s](t,e);var n=this.callbacks.get(t);if(n&&n.length>0)for(s=0;s<n.length;s++)n[s].fn.call(n[s].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";function n(t){return"_"+t}var i=s(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[n(t)]},t.prototype.add=function(t,e,s){var i=n(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:e,context:s})},t.prototype.remove=function(t,e,s){if(t||e||s){var o=t?[n(t)]:i.keys(this._callbacks);e||s?this.removeCallback(o,e,s):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,s){i.apply(t,function(t){this._callbacks[t]=i.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||s&&s!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){i.apply(t,function(t){delete this._callbacks[t]},this)},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return n(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(s(24).default);e.NetInfo=i,e.Network=new i},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){return[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],":http_fallback_loop"]]]]]}},function(t,e,s){"use strict";var n=s(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),n.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,s){t.hooks.isInitialized()?(t.changeState("initialized"),s(!0)):(e&&t.onError(e),t.onClose(),s(!1))})):t.onClose()}},function(t,e,s){"use strict";var n=s(30),i=s(32);i.default.createXDR=function(t,e){return this.createRequest(n.default,t,e)},e.__esModule=!0,e.default=i.default},function(t,e,s){"use strict";var n=s(31),i={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new n.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=i},function(t,e){"use strict";var s=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},n=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.BadEventName=n;var i=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.RequestTimedOut=i;var o=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.TransportPriorityTooLow=o;var r=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.TransportClosed=r;var a=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.UnsupportedTransport=a;var l=function(t){function e(){t.apply(this,arguments)}return s(e,t),e}(Error);e.UnsupportedStrategy=l},function(t,e,s){"use strict";var n=s(33),i=s(34),o=s(36),r=s(37),a=s(38),l={createStreamingSocket:function(t){return this.createSocket(o.default,t)},createPollingSocket:function(t){return this.createSocket(r.default,t)},createSocket:function(t,e){return new i.default(t,e)},createXHR:function(t,e){return this.createRequest(a.default,t,e)},createRequest:function(t,e,s){return new n.default(t,e,s)}};e.__esModule=!0,e.default=l},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(2),o=function(t){function e(e,s,n){t.call(this),this.hooks=e,this.method=s,this.url=n}return n(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},i.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(i.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var s=this.advanceBuffer(e);if(!s)break;this.emit("chunk",{status:t,data:s})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),s=e.indexOf("\n");return-1!==s?(this.position+=s+1,e.slice(0,s)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(s(24).default);e.__esModule=!0,e.default=o},function(t,e,s){"use strict";function n(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+l++}function i(t){return Math.floor(Math.random()*t)}var o=s(35),r=s(11),a=s(2),l=1,c=function(){function t(t,e){this.hooks=t,this.session=i(1e3)+"/"+function(t){for(var e=[],s=0;s<8;s++)e.push(i(32).toString(32));return e.join("")}(),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=o.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==o.default.OPEN)return!1;try{return a.default.createSocketRequest("POST",n(function(t,e){return t.base+"/"+e+"/xhr_send"}(this.location,this.session))).start(t),!0}catch(t){return!1}},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,s){this.closeStream(),this.readyState=o.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:s})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===o.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var s=0;s<e.length;s++)this.onEvent(e[s]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){this.readyState===o.default.CONNECTING?(t&&t.hostname&&(this.location.base=function(t,e){var s=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return s[1]+e+s[3]}(this.location.base,t.hostname)),this.readyState=o.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===o.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=a.default.createSocketRequest("POST",n(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){r.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();e.__esModule=!0,e.default=c},function(t,e){"use strict";var s;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(s||(s={})),e.__esModule=!0,e.default=s},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,s){"use strict";var n=s(2),i={getRequest:function(t){var e=new(n.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=s(9),i=s(11),o=s(40),r=function(){function t(t,e,s){this.key=t,this.session=e,this.events=[],this.options=s||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(n.extend({},e,{timestamp:i.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(o.default.ERROR,t)},t.prototype.info=function(t){this.log(o.default.INFO,t)},t.prototype.debug=function(t){this.log(o.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var s=this,i=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(i,function(t,n){t||s.sent++,e&&e(t,n)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var s;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(s||(s={})),e.__esModule=!0,e.default=s},function(t,e,s){"use strict";function n(t){return function(e){return[t.apply(this,arguments),e]}}function i(t){return"string"==typeof t&&":"===t.charAt(0)}function o(t,e){return e[t.slice(1)]}var r=s(9),a=s(11),l=s(42),c=s(31),u=s(56),h=s(57),d=s(58),p=s(59),_=s(60),f=s(61),m=s(62),C=s(2).default.Transports;e.build=function(t,e){return function t(e,s){return"string"==typeof e?function(t,e){if(!i(t))return[t,e];var s=o(t,e);if(void 0===s)throw"Undefined symbol "+t;return[s,e]}(e,s):"object"==typeof e&&e instanceof Array&&e.length>0?function(e,s){if(i(e[0])){var n=o(e[0],s);if(e.length>1){if("function"!=typeof n)throw"Calling non-function "+e[0];var a=[r.extend({},s)].concat(r.map(e.slice(1),function(e){return t(e,r.extend({},s))[0]}));return n.apply(this,a)}return[n,s]}return function e(s,n){if(0===s.length)return[[],n];var i=t(s[0],n),o=e(s.slice(1),i[1]);return[[i[0]].concat(o[0]),o[1]]}(e,s)}(e,s):[e,s]}(t,r.extend({},y,e))[1].strategy};var E={isSupported:function(){return!1},connect:function(t,e){var s=a.default.defer(function(){e(new c.UnsupportedStrategy)});return{abort:function(){s.ensureAborted()},forceMinPriority:function(){}}}},y={extend:function(t,e,s){return[r.extend({},e,s),t]},def:function(t,e,s){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=s,[void 0,t]},def_transport:function(t,e,s,n,i,o){var a,l=C[s];if(!l)throw new c.UnsupportedTransport(s);a=t.enabledTransports&&-1===r.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==r.arrayIndexOf(t.disabledTransports,e)?E:new u.default(e,n,o?o.getAssistant(l):l,r.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i));var h=t.def(t,e,a)[1];return h.Transports=t.Transports||{},h.Transports[e]=a,[void 0,h]},transport_manager:n(function(t,e){return new l.default(e)}),sequential:n(function(t,e){var s=Array.prototype.slice.call(arguments,2);return new h.default(s,e)}),cached:n(function(t,e,s){return new p.default(s,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:n(function(t,e){return new m.default(e)}),best_connected_ever:n(function(){var t=Array.prototype.slice.call(arguments,1);return new d.default(t)}),delayed:n(function(t,e,s){return new _.default(s,{delay:e})}),if:n(function(t,e,s,n){return new f.default(e,s,n)}),is_supported:n(function(t,e){return function(){return e.isSupported()}})}},function(t,e,s){"use strict";var n=s(43),i=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return n.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=s(44),i=s(45),o=s(48),r=s(49),a=s(50),l=s(51),c=s(52),u=s(54),h=s(55),d={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new u.default(t,e)},createChannel:function(t,e){return new c.default(t,e)},createPrivateChannel:function(t,e){return new l.default(t,e)},createPresenceChannel:function(t,e){return new a.default(t,e)},createTimelineSender:function(t,e){return new r.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new o.default(t,e)},createHandshake:function(t,e){return new i.default(t,e)},createAssistantToTheTransportManager:function(t,e,s){return new n.default(t,e,s)}};e.__esModule=!0,e.default=d},function(t,e,s){"use strict";var n=s(11),i=s(9),o=function(){function t(t,e,s){this.manager=t,this.transport=e,this.minPingDelay=s.minPingDelay,this.maxPingDelay=s.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,s,o){var r=this;o=i.extend({},o,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,s,o),l=null,c=function(){a.unbind("open",c),a.bind("closed",u),l=n.default.now()},u=function(t){if(a.unbind("closed",u),1002===t.code||1003===t.code)r.manager.reportDeath();else if(!t.wasClean&&l){var e=n.default.now()-l;e<2*r.maxPingDelay&&(r.manager.reportDeath(),r.pingDelay=Math.max(e/2,r.minPingDelay))}};return a.bind("open",c),a},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=s(9),i=s(46),o=s(47),r=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var s;t.unbindListeners();try{s=i.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===s.action?t.finish("connected",{connection:new o.default(s.id,t.transport),activityTimeout:s.activityTimeout}):(t.finish(s.action,{error:s.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var s=i.getCloseAction(e)||"backoff",n=i.getCloseError(e);t.finish(s,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(n.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(9),o=s(24),r=s(46),a=s(8),l=function(t){function e(e,s){t.call(this),this.id=e,this.transport=s,this.activityTimeout=s.activityTimeout,this.bindListeners()}return n(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,s){var n={event:t,data:e};return s&&(n.channel=s),a.default.debug("Event sent",n),this.send(r.encodeMessage(n))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var s;try{s=r.decodeMessage(e)}catch(s){t.emit("error",{type:"MessageParseError",error:s,data:e.data})}if(void 0!==s){switch(a.default.debug("Event recd",s),s.event){case"pusher:error":t.emit("error",{type:"PusherError",data:s.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",s)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){s(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},s=function(){i.objectApply(e,function(e,s){t.transport.unbind(s,e)})};i.objectApply(e,function(e,s){t.transport.bind(s,e)})},e.prototype.handleCloseEvent=function(t){var e=r.getCloseAction(t),s=r.getCloseError(t);s&&this.emit("error",s),e&&this.emit(e)},e}(o.default);e.__esModule=!0,e.default=l},function(t,e,s){"use strict";var n=s(2),i=function(){function t(t,e){this.channel=t;var s=e.authTransport;if("undefined"==typeof n.default.getAuthorizers()[s])throw"'"+s+"' is not a recognized auth transport";this.type=s,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var s in this.authOptions.params)e+="&"+encodeURIComponent(s)+"="+encodeURIComponent(this.authOptions.params[s]);return e},t.prototype.authorize=function(e,s){return(t.authorizers=t.authorizers||n.default.getAuthorizers())[this.type].call(this,n.default,e,s)},t}();e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=s(2),i=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(n.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(51),o=s(8),r=s(53),a=s(14),l=function(t){function e(e,s){t.call(this,e,s),this.members=new r.default}return n(e,t),e.prototype.authorize=function(e,s){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var i=a.default.buildLogSuffix("authenticationEndpoint");return o.default.warn("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+i),void s("Invalid auth response")}var r=JSON.parse(e.channel_data);n.members.setMyID(r.user_id)}s(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var s=this.members.addMember(e);this.emit("pusher:member_added",s);break;case"pusher_internal:member_removed":var n=this.members.removeMember(e);n&&this.emit("pusher:member_removed",n);break;default:i.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(i.default);e.__esModule=!0,e.default=l},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(43),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authorize=function(t,e){return i.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(s(52).default);e.__esModule=!0,e.default=o},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(24),o=s(31),r=s(8),a=function(t){function e(e,s){t.call(this,function(t,s){r.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=s,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return n(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new o.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,s){e?t.handleEvent("pusher:subscription_error",s):t.pusher.send_event("pusher:subscribe",{auth:s.auth,channel_data:s.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(i.default);e.__esModule=!0,e.default=a},function(t,e,s){"use strict";var n=s(9),i=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;n.objectApply(this.members,function(s,n){t(e.get(n))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=i},function(t,e,s){"use strict";var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},i=s(24),o=s(12),r=s(8),a=s(9),l=s(2),c=function(t){function e(e,s){var n=this;t.call(this),this.key=e,this.options=s||{},this.state="initialized",this.connection=null,this.encrypted=!!s.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var i=l.default.getNetwork();i.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),i.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}return n(e,t),e.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,s){return!!this.connection&&this.connection.send_event(t,e,s)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(s,n){s?t.runner=t.strategy.connect(0,e):"error"===n.action?(t.emit("error",{type:"HandshakeError",error:n.error}),t.timeline.error({handshakeError:n.error})):(t.abortConnecting(),t.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new o.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(s){s.error&&t.emit("error",{type:"WebSocketError",error:s.error}),e(s)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var s=this.state;if(this.state=t,s!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id),r.default.debug("State changed",s+" -> "+n),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:s,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(i.default);e.__esModule=!0,e.default=c},function(t,e,s){"use strict";var n=s(9),i=s(43),o=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?i.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?i.default.createPresenceChannel(t,e):i.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return n.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){n.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=o},function(t,e,s){"use strict";function n(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var i=s(43),o=s(11),r=s(31),a=s(9),l=function(){function t(t,e,s,n){this.name=t,this.priority=e,this.transport=s,this.options=n||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var s=this;if(!this.isSupported())return n(new r.UnsupportedStrategy,e);if(this.priority<t)return n(new r.TransportPriorityTooLow,e);var o=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){l.unbind("initialized",u),l.connect()},h=function(){c=i.default.createHandshake(l,function(t){o=!0,_(),e(null,t)})},d=function(t){_(),e(t)},p=function(){var t;_(),t=a.safeJSONStringify(l),e(new r.TransportClosed(t))},_=function(){l.unbind("initialized",u),l.unbind("open",h),l.unbind("error",d),l.unbind("closed",p)};return l.bind("initialized",u),l.bind("open",h),l.bind("error",d),l.bind("closed",p),l.initialize(),{abort:function(){o||(_(),c?c.close():l.close())},forceMinPriority:function(t){o||s.priority<t&&(c?c.close():l.close())}}},t}();e.__esModule=!0,e.default=l},function(t,e,s){"use strict";var n=s(9),i=s(11),o=s(12),r=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return n.any(this.strategies,i.default.method("isSupported"))},t.prototype.connect=function(t,e){var s=this,n=this.strategies,i=0,o=this.timeout,r=null,a=function(l,c){c?e(null,c):(i+=1,s.loop&&(i%=n.length),i<n.length?(o&&(o*=2,s.timeoutLimit&&(o=Math.min(o,s.timeoutLimit))),r=s.tryStrategy(n[i],t,{timeout:o,failFast:s.failFast},a)):e(!0))};return r=this.tryStrategy(n[i],t,{timeout:o,failFast:this.failFast},a),{abort:function(){r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,s,n){var i=null,r=null;return s.timeout>0&&(i=new o.OneOffTimer(s.timeout,function(){r.abort(),n(!0)})),r=t.connect(e,function(t,e){t&&i&&i.isRunning()&&!s.failFast||(i&&i.ensureAborted(),n(t,e))}),{abort:function(){i&&i.ensureAborted(),r.abort()},forceMinPriority:function(t){r.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=r},function(t,e,s){"use strict";function n(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var i=s(9),o=s(11),r=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,s){var o=i.map(t,function(t,n,i,o){return t.connect(e,s(n,o))});return{abort:function(){i.apply(o,n)},forceMinPriority:function(t){i.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,s){return function(n,o){return s[t].error=n,n?void(i.all(s,function(t){return Boolean(t.error)})&&e(!0)):(i.apply(s,function(t){t.forceMinPriority(o.transport.priority)}),void e(null,o))}})},t}();e.__esModule=!0,e.default=r},function(t,e,s){"use strict";function n(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function i(t){var e=l.default.getLocalStorage();if(e)try{var s=e[n(t)];if(s)return JSON.parse(s)}catch(e){r(t)}return null}function o(t,e,s){var i=l.default.getLocalStorage();if(i)try{i[n(t)]=u.safeJSONStringify({timestamp:a.default.now(),transport:e,latency:s})}catch(t){}}function r(t){var e=l.default.getLocalStorage();if(e)try{delete e[n(t)]}catch(t){}}var a=s(11),l=s(2),c=s(57),u=s(9),h=function(){function t(t,e,s){this.strategy=t,this.transports=e,this.ttl=s.ttl||18e5,this.encrypted=s.encrypted,this.timeline=s.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var s=this.encrypted,n=i(s),l=[this.strategy];if(n&&n.timestamp+this.ttl>=a.default.now()){var u=this.transports[n.transport];u&&(this.timeline.info({cached:!0,transport:n.transport,latency:n.latency}),l.push(new c.default([u],{timeout:2*n.latency+1e3,failFast:!0})))}var h=a.default.now(),d=l.pop().connect(t,function n(i,c){i?(r(s),l.length>0?(h=a.default.now(),d=l.pop().connect(t,n)):e(i)):(o(s,c.transport.name,a.default.now()-h),e(null,c))});return{abort:function(){d.abort()},forceMinPriority:function(e){t=e,d&&d.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=h},function(t,e,s){"use strict";var n=s(12),i=function(){function t(t,e){var s=e.delay;this.strategy=t,this.options={delay:s}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var s,i=this.strategy,o=new n.OneOffTimer(this.options.delay,function(){s=i.connect(t,e)});return{abort:function(){o.ensureAborted(),s&&s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=i},function(t,e){"use strict";var s=function(){function t(t,e,s){this.test=t,this.trueBranch=e,this.falseBranch=s}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";var s=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var s=this.strategy.connect(t,function(t,n){n&&s.abort(),e(t,n)});return s},t}();e.__esModule=!0,e.default=s},function(t,e,s){"use strict";var n=s(5);e.getGlobalConfig=function(){return{wsHost:n.default.host,wsPort:n.default.ws_port,wssPort:n.default.wss_port,wsPath:n.default.ws_path,httpHost:n.default.sockjs_host,httpPort:n.default.sockjs_http_port,httpsPort:n.default.sockjs_https_port,httpPath:n.default.sockjs_path,statsHost:n.default.stats_host,authEndpoint:n.default.channel_auth_endpoint,authTransport:n.default.channel_auth_transport,activity_timeout:n.default.activity_timeout,pong_timeout:n.default.pong_timeout,unavailable_timeout:n.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])}),function(){"use strict";var t={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(t=function(){var t=[],e=[],s="mdlComponentConfigInternal_";function n(e,s){for(var n=0;n<t.length;n++)if(t[n].className===e)return"undefined"!=typeof s&&(t[n]=s),t[n];return!1}function i(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==i(t).indexOf(e)}function r(t,e,s){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:s});var n=document.createEvent("Events");return n.initEvent(t,e,s),n}function a(e,s){if("undefined"==typeof e&&"undefined"==typeof s)for(var i=0;i<t.length;i++)a(t[i].className,t[i].cssClass);else{var o=e;if("undefined"==typeof s){var r=n(o);r&&(s=r.cssClass)}for(var c=document.querySelectorAll("."+s),u=0;u<c.length;u++)l(c[u],o)}}function l(a,l){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=r("mdl-componentupgrading",!0,!0);if(a.dispatchEvent(c),!c.defaultPrevented){var u=i(a),h=[];if(l)o(a,l)||h.push(n(l));else{var d=a.classList;t.forEach(function(t){d.contains(t.cssClass)&&-1===h.indexOf(t)&&!o(a,t.className)&&h.push(t)})}for(var p,_=0,f=h.length;_<f;_++){if(!(p=h[_]))throw new Error("Unable to find a registered component for the given class.");u.push(p.className),a.setAttribute("data-upgraded",u.join(","));var m=new p.classConstructor(a);m[s]=p,e.push(m);for(var C=0,E=p.callbacks.length;C<E;C++)p.callbacks[C](a);p.widget&&(a[p.className]=m);var y=r("mdl-componentupgraded",!0,!1);a.dispatchEvent(y)}}}function c(t){if(t){var n=e.indexOf(t);e.splice(n,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[s].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var a=r("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:a,upgradeElement:l,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var s,n=0,i=e.length;n<i;n++)(s=e[n])instanceof HTMLElement&&(l(s),s.children.length>0&&t(s.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)a(t[e].className)},registerUpgradedCallback:function(t,e){var s=n(t);s&&s.callbacks.push(e)},register:function(e){var i=!0;"undefined"==typeof e.widget&&"undefined"==typeof e.widget||(i=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:i,callbacks:[]};if(t.forEach(function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")}),e.constructor.prototype.hasOwnProperty(s))throw new Error("MDL component classes must not have "+s+" defined as a property.");n(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var s=function(t){e.filter(function(e){return e.element_===t}).forEach(c)};if(t instanceof Array||t instanceof NodeList)for(var n=0;n<t.length;n++)s(t[n]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");s(t)}}}}()).upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var e=["webkit","moz"],s=0;s<e.length&&!window.requestAnimationFrame;++s){var n=e[s];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(t){var e=Date.now(),s=Math.max(i+16,e);return setTimeout(function(){t(i=s)},s-e)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var o=function(t){this.element_=t,this.init()};window.MaterialButton=o,o.prototype.Constant_={},o.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},o.prototype.blurHandler_=function(t){t&&this.element_.blur()},o.prototype.disable=o.prototype.disable=function(){this.element_.disabled=!0},o.prototype.enable=o.prototype.enable=function(){this.element_.disabled=!1},o.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},t.register({constructor:o,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var r=function(t){this.element_=t,this.init()};window.MaterialCheckbox=r,r.prototype.Constant_={TINY_TIMEOUT:.001},r.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},r.prototype.onChange_=function(t){this.updateClasses_()},r.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},r.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},r.prototype.onMouseUp_=function(t){this.blur_()},r.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},r.prototype.blur_=function(){window.setTimeout((function(){this.inputElement_.blur()}).bind(this),this.Constant_.TINY_TIMEOUT)},r.prototype.checkToggleState=r.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},r.prototype.checkDisabled=r.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},r.prototype.disable=r.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},r.prototype.enable=r.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},r.prototype.check=r.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},r.prototype.uncheck=r.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},r.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("span");t.classList.add(this.CssClasses_.BOX_OUTLINE);var e=document.createElement("span");e.classList.add(this.CssClasses_.FOCUS_HELPER);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.TICK_OUTLINE),t.appendChild(s),this.element_.appendChild(e),this.element_.appendChild(t),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var n=document.createElement("span");n.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(n),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:r,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var a=function(t){this.element_=t,this.init()};window.MaterialIconToggle=a,a.prototype.Constant_={TINY_TIMEOUT:.001},a.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},a.prototype.onChange_=function(t){this.updateClasses_()},a.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},a.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},a.prototype.onMouseUp_=function(t){this.blur_()},a.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},a.prototype.blur_=function(){window.setTimeout((function(){this.inputElement_.blur()}).bind(this),this.Constant_.TINY_TIMEOUT)},a.prototype.checkToggleState=a.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},a.prototype.checkDisabled=a.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},a.prototype.disable=a.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},a.prototype.enable=a.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},a.prototype.check=a.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},a.prototype.uncheck=a.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},a.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(t),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},t.register({constructor:a,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var l=function(t){this.element_=t,this.init()};window.MaterialMenu=l,l.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},l.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},l.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},l.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),this.container_=t;var e=document.createElement("div");e.classList.add(this.CssClasses_.OUTLINE),this.outline_=e,t.insertBefore(e,this.element_);var s=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),n=null;s&&(n=document.getElementById(s))&&(this.forElement_=n,n.addEventListener("click",this.handleForClick_.bind(this)),n.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this)));var i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var o=0;o<i.length;o++)i[o].addEventListener("click",this.boundItemClick_),i[o].tabIndex="-1",i[o].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),o=0;o<i.length;o++){var r=i[o],a=document.createElement("span");a.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),a.appendChild(l),r.appendChild(a),r.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),t.classList.add(this.CssClasses_.IS_UPGRADED)}},l.prototype.handleForClick_=function(t){if(this.element_&&this.forElement_){var e=this.forElement_.getBoundingClientRect(),s=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=s.right-e.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=s.bottom-e.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=s.right-e.right+"px",this.container_.style.bottom=s.bottom-e.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(t)},l.prototype.handleForKeyboardEvent_=function(t){if(this.element_&&this.container_&&this.forElement_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(t.keyCode===this.Keycodes_.UP_ARROW?(t.preventDefault(),e[e.length-1].focus()):t.keyCode===this.Keycodes_.DOWN_ARROW&&(t.preventDefault(),e[0].focus()))}},l.prototype.handleItemKeyboardEvent_=function(t){if(this.element_&&this.container_){var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(e&&e.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var s=Array.prototype.slice.call(e).indexOf(t.target);if(t.keyCode===this.Keycodes_.UP_ARROW)t.preventDefault(),s>0?e[s-1].focus():e[e.length-1].focus();else if(t.keyCode===this.Keycodes_.DOWN_ARROW)t.preventDefault(),e.length>s+1?e[s+1].focus():e[0].focus();else if(t.keyCode===this.Keycodes_.SPACE||t.keyCode===this.Keycodes_.ENTER){t.preventDefault();var n=new MouseEvent("mousedown");t.target.dispatchEvent(n),n=new MouseEvent("mouseup"),t.target.dispatchEvent(n),t.target.click()}else t.keyCode===this.Keycodes_.ESCAPE&&(t.preventDefault(),this.hide())}}},l.prototype.handleItemClick_=function(t){t.target.hasAttribute("disabled")?t.stopPropagation():(this.closing_=!0,window.setTimeout((function(t){this.hide(),this.closing_=!1}).bind(this),this.Constant_.CLOSE_TIMEOUT))},l.prototype.applyClip_=function(t,e){this.element_.style.clip=this.element_.classList.contains(this.CssClasses_.UNALIGNED)?"":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?"rect(0 "+e+"px 0 "+e+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?"rect("+t+"px 0 "+t+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?"rect("+t+"px "+e+"px "+t+"px "+e+"px)":""},l.prototype.removeAnimationEndListener_=function(t){t.target.classList.remove(l.prototype.CssClasses_.IS_ANIMATING)},l.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},l.prototype.show=l.prototype.show=function(t){if(this.element_&&this.container_&&this.outline_){var e=this.element_.getBoundingClientRect().height,s=this.element_.getBoundingClientRect().width;this.container_.style.width=s+"px",this.container_.style.height=e+"px",this.outline_.style.width=s+"px",this.outline_.style.height=e+"px";for(var n=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),o=0;o<i.length;o++){var r;r=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(e-i[o].offsetTop-i[o].offsetHeight)/e*n+"s":i[o].offsetTop/e*n+"s",i[o].style.transitionDelay=r}this.applyClip_(e,s),window.requestAnimationFrame((function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+s+"px "+e+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}).bind(this)),this.addAnimationEndListener_();var a=(function(e){e===t||this.closing_||e.target.parentNode===this.element_||(document.removeEventListener("click",a),this.hide())}).bind(this);document.addEventListener("click",a)}},l.prototype.hide=l.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),e=0;e<t.length;e++)t[e].style.removeProperty("transition-delay");var s=this.element_.getBoundingClientRect(),n=s.height,i=s.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(n,i),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},l.prototype.toggle=l.prototype.toggle=function(t){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(t)},t.register({constructor:l,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var c=function(t){this.element_=t,this.init()};window.MaterialProgress=c,c.prototype.Constant_={},c.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},c.prototype.setProgress=c.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},c.prototype.setBuffer=c.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},c.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},t.register({constructor:c,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var u=function(t){this.element_=t,this.init()};window.MaterialRadio=u,u.prototype.Constant_={TINY_TIMEOUT:.001},u.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},u.prototype.onChange_=function(t){for(var e=document.getElementsByClassName(this.CssClasses_.JS_RADIO),s=0;s<e.length;s++)e[s].querySelector("."+this.CssClasses_.RADIO_BTN).getAttribute("name")===this.btnElement_.getAttribute("name")&&"undefined"!=typeof e[s].MaterialRadio&&e[s].MaterialRadio.updateClasses_()},u.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},u.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},u.prototype.onMouseup_=function(t){this.blur_()},u.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},u.prototype.blur_=function(){window.setTimeout((function(){this.btnElement_.blur()}).bind(this),this.Constant_.TINY_TIMEOUT)},u.prototype.checkDisabled=u.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},u.prototype.checkToggleState=u.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},u.prototype.disable=u.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},u.prototype.enable=u.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},u.prototype.check=u.prototype.check=function(){this.btnElement_.checked=!0,this.onChange_(null)},u.prototype.uncheck=u.prototype.uncheck=function(){this.btnElement_.checked=!1,this.onChange_(null)},u.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var e,s=document.createElement("span");if(s.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(t),this.element_.appendChild(s),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),(e=document.createElement("span")).classList.add(this.CssClasses_.RIPPLE_CONTAINER),e.classList.add(this.CssClasses_.RIPPLE_EFFECT),e.classList.add(this.CssClasses_.RIPPLE_CENTER),e.addEventListener("mouseup",this.boundMouseUpHandler_);var n=document.createElement("span");n.classList.add(this.CssClasses_.RIPPLE),e.appendChild(n),this.element_.appendChild(e)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:u,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var h=function(t){this.element_=t,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=h,h.prototype.Constant_={},h.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},h.prototype.onInput_=function(t){this.updateValueStyles_()},h.prototype.onChange_=function(t){this.updateValueStyles_()},h.prototype.onMouseUp_=function(t){t.target.blur()},h.prototype.onContainerMouseDown_=function(t){if(t.target===this.element_.parentElement){t.preventDefault();var e=new MouseEvent("mousedown",{target:t.target,buttons:t.buttons,clientX:t.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(e)}},h.prototype.updateValueStyles_=function(){var t=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===t?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=t,this.backgroundLower_.style.webkitFlex=t,this.backgroundUpper_.style.flex=1-t,this.backgroundUpper_.style.webkitFlex=1-t)},h.prototype.disable=h.prototype.disable=function(){this.element_.disabled=!0},h.prototype.enable=h.prototype.enable=function(){this.element_.disabled=!1},h.prototype.change=h.prototype.change=function(t){"undefined"!=typeof t&&(this.element_.value=t),this.updateValueStyles_()},h.prototype.init=function(){if(this.element_){if(this.isIE_){var t=document.createElement("div");t.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_)}else{var e=document.createElement("div");e.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);var s=document.createElement("div");s.classList.add(this.CssClasses_.BACKGROUND_FLEX),e.appendChild(s),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),s.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),s.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},t.register({constructor:h,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var d=function(t){if(this.element_=t,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=d,d.prototype.Constant_={ANIMATION_LENGTH:250},d.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},d.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},d.prototype.showSnackbar=d.prototype.showSnackbar=function(t){if(void 0===t)throw new Error("Please provide a data object with at least a message to display.");if(void 0===t.message)throw new Error("Please provide a message to be displayed.");if(t.actionHandler&&!t.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(t):(this.active=!0,this.message_=t.message,this.timeout_=t.timeout?t.timeout:2750,t.actionHandler&&(this.actionHandler_=t.actionHandler),t.actionText&&(this.actionText_=t.actionText),this.displaySnackbar_())},d.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},d.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout((function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}).bind(this),this.Constant_.ANIMATION_LENGTH)},d.prototype.setActionHidden_=function(t){t?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},t.register({constructor:d,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var p=function(t){this.element_=t,this.init()};window.MaterialSpinner=p,p.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},p.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},p.prototype.createLayer=p.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[s,n,i],r=0;r<o.length;r++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[r].appendChild(a)}e.appendChild(s),e.appendChild(n),e.appendChild(i),this.element_.appendChild(e)},p.prototype.stop=p.prototype.stop=function(){this.element_.classList.remove("is-active")},p.prototype.start=p.prototype.start=function(){this.element_.classList.add("is-active")},p.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},t.register({constructor:p,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var _=function(t){this.element_=t,this.init()};window.MaterialSwitch=_,_.prototype.Constant_={TINY_TIMEOUT:.001},_.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},_.prototype.onChange_=function(t){this.updateClasses_()},_.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},_.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},_.prototype.onMouseUp_=function(t){this.blur_()},_.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},_.prototype.blur_=function(){window.setTimeout((function(){this.inputElement_.blur()}).bind(this),this.Constant_.TINY_TIMEOUT)},_.prototype.checkDisabled=_.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},_.prototype.checkToggleState=_.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},_.prototype.disable=_.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},_.prototype.enable=_.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},_.prototype.on=_.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},_.prototype.off=_.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},_.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.FOCUS_HELPER),e.appendChild(s),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var n=document.createElement("span");n.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(n),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},t.register({constructor:_,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var f=function(t){this.element_=t,this.init()};function m(t,e){if(t){if(e.element_.classList.contains(e.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(e.CssClasses_.MDL_RIPPLE_CONTAINER),s.classList.add(e.CssClasses_.MDL_JS_RIPPLE_EFFECT);var n=document.createElement("span");n.classList.add(e.CssClasses_.MDL_RIPPLE),s.appendChild(n),t.appendChild(s)}t.addEventListener("click",function(s){if("#"===t.getAttribute("href").charAt(0)){s.preventDefault();var n=t.href.split("#")[1],i=e.element_.querySelector("#"+n);e.resetTabState_(),e.resetPanelState_(),t.classList.add(e.CssClasses_.ACTIVE_CLASS),i.classList.add(e.CssClasses_.ACTIVE_CLASS)}})}}window.MaterialTabs=f,f.prototype.Constant_={},f.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},f.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new m(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},f.prototype.resetTabState_=function(){for(var t=0;t<this.tabs_.length;t++)this.tabs_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},f.prototype.resetPanelState_=function(){for(var t=0;t<this.panels_.length;t++)this.panels_[t].classList.remove(this.CssClasses_.ACTIVE_CLASS)},f.prototype.init=function(){this.element_&&this.initTabs_()},t.register({constructor:f,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var C=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=C,C.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},C.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},C.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},C.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},C.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},C.prototype.onReset_=function(t){this.updateClasses_()},C.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},C.prototype.checkDisabled=C.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},C.prototype.checkFocus=C.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},C.prototype.checkValidity=C.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},C.prototype.checkDirty=C.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},C.prototype.disable=C.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},C.prototype.enable=C.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},C.prototype.change=C.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},C.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},t.register({constructor:C,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var E=function(t){this.element_=t,this.init()};window.MaterialTooltip=E,E.prototype.Constant_={},E.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},E.prototype.handleMouseEnter_=function(t){var e=t.target.getBoundingClientRect(),s=e.left+e.width/2,n=e.top+e.height/2,i=this.element_.offsetWidth/2*-1,o=this.element_.offsetHeight/2*-1;this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(s=e.width/2,n+o<0?(this.element_.style.top="0",this.element_.style.marginTop="0"):(this.element_.style.top=n+"px",this.element_.style.marginTop=o+"px")):s+i<0?(this.element_.style.left="0",this.element_.style.marginLeft="0"):(this.element_.style.left=s+"px",this.element_.style.marginLeft=i+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=e.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=e.left+e.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=e.left-this.element_.offsetWidth-10+"px":this.element_.style.top=e.top+e.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},E.prototype.hideTooltip_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},E.prototype.init=function(){if(this.element_){var t=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for");t&&(this.forElement_=document.getElementById(t)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveAndScrollHandler=this.hideTooltip_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveAndScrollHandler,!1),window.addEventListener("scroll",this.boundMouseLeaveAndScrollHandler,!0),window.addEventListener("touchstart",this.boundMouseLeaveAndScrollHandler))}},t.register({constructor:E,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var y=function(t){this.element_=t,this.init()};function g(t,e,s,n){function i(){var i=t.href.split("#")[1],o=n.content_.querySelector("#"+i);n.resetTabState_(e),n.resetPanelState_(s),t.classList.add(n.CssClasses_.IS_ACTIVE),o.classList.add(n.CssClasses_.IS_ACTIVE)}if(n.tabBar_.classList.contains(n.CssClasses_.JS_RIPPLE_EFFECT)){var o=document.createElement("span");o.classList.add(n.CssClasses_.RIPPLE_CONTAINER),o.classList.add(n.CssClasses_.JS_RIPPLE_EFFECT);var r=document.createElement("span");r.classList.add(n.CssClasses_.RIPPLE),o.appendChild(r),t.appendChild(o)}n.tabBar_.classList.contains(n.CssClasses_.TAB_MANUAL_SWITCH)||t.addEventListener("click",function(e){"#"===t.getAttribute("href").charAt(0)&&(e.preventDefault(),i())}),t.show=i}window.MaterialLayout=y,y.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},y.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},y.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},y.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",TAB_MANUAL_SWITCH:"mdl-layout__tab-manual-switch",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},y.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var t=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),t&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},y.prototype.keyboardEventHandler_=function(t){t.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},y.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},y.prototype.drawerToggleHandler_=function(t){if(t&&"keydown"===t.type){if(t.keyCode!==this.Keycodes_.SPACE&&t.keyCode!==this.Keycodes_.ENTER)return;t.preventDefault()}this.toggleDrawer()},y.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},y.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},y.prototype.resetTabState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.resetPanelState_=function(t){for(var e=0;e<t.length;e++)t[e].classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.toggleDrawer=y.prototype.toggleDrawer=function(){var t=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"))},y.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.classList.add(this.CssClasses_.CONTAINER);var e=this.element_.querySelector(":focus");this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),e&&e.focus();for(var s=this.element_.childNodes,n=s.length,i=0;i<n;i++){var o=s[i];o.classList&&o.classList.contains(this.CssClasses_.HEADER)&&(this.header_=o),o.classList&&o.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=o),o.classList&&o.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=o)}window.addEventListener("pageshow",(function(t){t.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame((function(){this.element_.style.overflowY=""}).bind(this)))}).bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var r=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?r=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(r=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(r=this.Mode_.SCROLL,t.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),r===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):r===this.Mode_.SEAMED||r===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):r===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var a=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!a){(a=document.createElement("div")).setAttribute("aria-expanded","false"),a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.classList.add(this.CssClasses_.DRAWER_BTN);var l=document.createElement("i");l.classList.add(this.CssClasses_.ICON),l.innerHTML=this.Constant_.MENU_ICON,a.appendChild(l)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?a.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&a.classList.add(this.CssClasses_.ON_SMALL_SCREEN),a.addEventListener("click",this.drawerToggleHandler_.bind(this)),a.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(a,this.header_.firstChild):this.element_.insertBefore(a,this.content_);var c=document.createElement("div");c.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(c),c.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=c,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var u=document.createElement("div");u.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(u,this.tabBar_),this.header_.removeChild(this.tabBar_);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_BAR_BUTTON),h.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var d=document.createElement("i");d.classList.add(this.CssClasses_.ICON),d.textContent=this.Constant_.CHEVRON_LEFT,h.appendChild(d),h.addEventListener("click",(function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}).bind(this));var p=document.createElement("div");p.classList.add(this.CssClasses_.TAB_BAR_BUTTON),p.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var _=document.createElement("i");_.classList.add(this.CssClasses_.ICON),_.textContent=this.Constant_.CHEVRON_RIGHT,p.appendChild(_),p.addEventListener("click",(function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}).bind(this)),u.appendChild(h),u.appendChild(this.tabBar_),u.appendChild(p);var f=(function(){this.tabBar_.scrollLeft>0?h.classList.add(this.CssClasses_.IS_ACTIVE):h.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?p.classList.add(this.CssClasses_.IS_ACTIVE):p.classList.remove(this.CssClasses_.IS_ACTIVE)}).bind(this);this.tabBar_.addEventListener("scroll",f),f();var m=(function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout((function(){f(),this.resizeTimeoutId_=null}).bind(this),this.Constant_.RESIZE_TIMEOUT)}).bind(this);window.addEventListener("resize",m),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var C=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),E=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),y=0;y<C.length;y++)new g(C[y],C,E,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=g,t.register({constructor:y,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var v=function(t){this.element_=t,this.init()};window.MaterialDataTable=v,v.prototype.Constant_={},v.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},v.prototype.selectRow_=function(t,e,s){return e?(function(){t.checked?e.classList.add(this.CssClasses_.IS_SELECTED):e.classList.remove(this.CssClasses_.IS_SELECTED)}).bind(this):s?(function(){var e;if(t.checked)for(e=0;e<s.length;e++)s[e].querySelector("td").querySelector(".mdl-checkbox").MaterialCheckbox.check(),s[e].classList.add(this.CssClasses_.IS_SELECTED);else for(e=0;e<s.length;e++)s[e].querySelector("td").querySelector(".mdl-checkbox").MaterialCheckbox.uncheck(),s[e].classList.remove(this.CssClasses_.IS_SELECTED)}).bind(this):void 0},v.prototype.createCheckbox_=function(e,s){var n=document.createElement("label");n.className=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT].join(" ");var i=document.createElement("input");return i.type="checkbox",i.classList.add("mdl-checkbox__input"),e?(i.checked=e.classList.contains(this.CssClasses_.IS_SELECTED),i.addEventListener("change",this.selectRow_(i,e))):s&&i.addEventListener("change",this.selectRow_(i,null,s)),n.appendChild(i),t.upgradeElement(n,"MaterialCheckbox"),n},v.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("th"),e=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),s=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),n=e.concat(s);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var i=document.createElement("th"),o=this.createCheckbox_(null,n);i.appendChild(o),t.parentElement.insertBefore(i,t);for(var r=0;r<n.length;r++){var a=n[r].querySelector("td");if(a){var l=document.createElement("td");if("TBODY"===n[r].parentNode.nodeName.toUpperCase()){var c=this.createCheckbox_(n[r]);l.appendChild(c)}n[r].insertBefore(l,a)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},t.register({constructor:v,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var b=function(t){this.element_=t,this.init()};window.MaterialRipple=b,b.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},b.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},b.prototype.downHandler_=function(t){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var e=this.element_.getBoundingClientRect();this.boundHeight=e.height,this.boundWidth=e.width,this.rippleSize_=2*Math.sqrt(e.width*e.width+e.height*e.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===t.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{if("touchstart"===t.type&&(this.ignoringMouseDown_=!0),this.getFrameCount()>0)return;this.setFrameCount(1);var s,n,i=t.currentTarget.getBoundingClientRect();if(0===t.clientX&&0===t.clientY)s=Math.round(i.width/2),n=Math.round(i.height/2);else{var o=void 0!==t.clientY?t.clientY:t.touches[0].clientY;s=Math.round((void 0!==t.clientX?t.clientX:t.touches[0].clientX)-i.left),n=Math.round(o-i.top)}this.setRippleXY(s,n),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},b.prototype.upHandler_=function(t){t&&2!==t.detail&&window.setTimeout((function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}).bind(this),0)},b.prototype.init=function(){if(this.element_){var t=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(t){this.frameCount_=t},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(t,e){this.x_=t,this.y_=e},this.setRippleStyles=function(e){if(null!==this.rippleElement_){var s,n,i="translate("+this.x_+"px, "+this.y_+"px)";e?n=this.Constant_.INITIAL_SCALE:(n=this.Constant_.FINAL_SCALE,t&&(i="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),this.rippleElement_.style.webkitTransform=s="translate(-50%, -50%) "+i+n,this.rippleElement_.style.msTransform=s,this.rippleElement_.style.transform=s,e?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},t.register({constructor:b,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Postmate=e()}("undefined"!=typeof self?self:this,function(){"use strict";var t="application/x-postmate-v1+json",e=0,s={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},n=function(e,n){return("string"!=typeof n||e.origin===n)&&!!e.data&&("object"!=typeof e.data||"postmate"in e.data)&&e.data.type===t&&!!s[e.data.postmate]},i=function(){function s(t){var e=this;this.parent=t.parent,this.frame=t.frame,this.child=t.child,this.childOrigin=t.childOrigin,this.events={},this.listener=function(t){if(!n(t,e.childOrigin))return!1;var s=((t||{}).data||{}).value||{},i=s.name;"emit"===t.data.postmate&&i in e.events&&e.events[i].call(e,s.data)},this.parent.addEventListener("message",this.listener,!1)}var i=s.prototype;return i.get=function(s){var n=this;return new r.Promise(function(i){var o=++e;n.parent.addEventListener("message",function t(e){e.data.uid===o&&"reply"===e.data.postmate&&(n.parent.removeEventListener("message",t,!1),i(e.data.value))},!1),n.child.postMessage({postmate:"request",type:t,property:s,uid:o},n.childOrigin)})},i.call=function(e,s){this.child.postMessage({postmate:"call",type:t,property:e,data:s},this.childOrigin)},i.on=function(t,e){this.events[t]=e},i.destroy=function(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)},s}(),o=function(){function e(e){var s=this;this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",function(e){if(n(e,s.parentOrigin)){var i,o,a,l=e.data,c=l.property,u=l.uid,h=l.data;"call"!==e.data.postmate?(i=s.model,o=c,a="function"==typeof i[o]?i[o]():i[o],r.Promise.resolve(a)).then(function(s){return e.source.postMessage({property:c,postmate:"reply",type:t,uid:u,value:s},e.origin)}):c in s.model&&"function"==typeof s.model[c]&&s.model[c].call(s,h)}})}return e.prototype.emit=function(e,s){this.parent.postMessage({postmate:"emit",type:t,value:{name:e,data:s}},this.parentOrigin)},e}(),r=function(){function e(t){var e=t.container,s=void 0===e?void 0!==s?s:document.body:e,n=t.model,i=t.url,o=t.classListArray,r=void 0===o?[]:o;return this.parent=window,this.frame=document.createElement("iframe"),this.frame.classList.add.apply(this.frame.classList,r),s.appendChild(this.frame),this.child=this.frame.contentWindow||this.frame.contentDocument.parentWindow,this.model=n||{},this.sendHandshake(i)}return e.prototype.sendHandshake=function(s){var o,r=this,a=function(t){var e=document.createElement("a");e.href=t;var s=4<e.protocol.length?e.protocol:window.location.protocol,n=e.host.length?"80"===e.port||"443"===e.port?e.hostname:e.host:window.location.host;return e.origin||s+"//"+n}(s),l=0;return new e.Promise(function(e,c){r.parent.addEventListener("message",function t(s){return!!n(s,a)&&("handshake-reply"===s.data.postmate?(clearInterval(o),r.parent.removeEventListener("message",t,!1),r.childOrigin=s.origin,e(new i(r))):c("Failed handshake"))},!1);var u=function(){l++,r.child.postMessage({postmate:"handshake",type:t,model:r.model},a),5===l&&clearInterval(o)},h=function(){u(),o=setInterval(u,500)};r.frame.attachEvent?r.frame.attachEvent("onload",h):r.frame.onload=h,r.frame.src=s})},e}();return r.debug=!1,r.Promise=function(){try{return window?window.Promise:Promise}catch(t){return null}}(),r.Model=function(){function e(t){return this.child=window,this.model=t,this.parent=this.child.parent,this.sendHandshakeReply()}return e.prototype.sendHandshakeReply=function(){var e=this;return new r.Promise(function(s,n){e.child.addEventListener("message",function i(r){if(r.data.postmate){if("handshake"!==r.data.postmate)return n("Handshake Reply Failed");e.child.removeEventListener("message",i,!1),r.source.postMessage({postmate:"handshake-reply",type:t},r.origin),e.parentOrigin=r.origin;var a=r.data.model;return a&&Object.keys(a).forEach(function(t){e.model[t]=a[t]}),s(new o(e))}},!1)})},e}(),r});